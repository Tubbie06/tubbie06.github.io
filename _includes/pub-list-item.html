{% assign p = include.post %}

<div class="pub-item">
  <div class="pub-title">
    <a href="{{ p.url | relative_url }}"><strong>{{ p.title }}</strong></a>
  </div>

  {% if p.authors %}
    <div class="pub-authors">{{ p.authors }}</div>
  {% elsif p.citation %}
    {% assign authors_guess = p.citation | split: '(' | first | strip %}
    <div class="pub-authors">{{ authors_guess }}</div>
  {% endif %}

  <div class="pub-venue">
    {% if p.venue %}{{ p.venue }}{% endif %}{% if p.date %}{% if p.venue %}, {% endif %}{{ p.date | date: "%Y" }}{% endif %}

    {% if p.paperurl %}
      <a class="pub-btn" href="{{ p.paperurl }}" target="_blank" rel="noopener">PDF</a>
    {% elsif p.doi %}
      {% if p.doi contains "http" %}
        <a class="pub-btn" href="{{ p.doi }}" target="_blank" rel="noopener">DOI</a>
      {% else %}
        <a class="pub-btn" href="https://doi.org/{{ p.doi }}" target="_blank" rel="noopener">DOI</a>
      {% endif %}
    {% elsif p.venue_url %}
      <a class="pub-btn" href="{{ p.venue_url }}" target="_blank" rel="noopener">Link</a>
    {% else %}
      <a class="pub-btn" href="{{ p.url | relative_url }}">Details</a>
    {% endif %}
  </div>
</div>